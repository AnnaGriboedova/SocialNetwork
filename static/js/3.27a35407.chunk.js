(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[3],{154:function(e,t,a){"use strict";var n=a(15),o=a.n(n),r=a(7);t.a=function(e){var t=e.getIn;return function(e,a){o()(e,"Form value must be specified");var n=a||function(e){return t(e,"form")};return function(a){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];return o()(s.length,"No fields specified"),1===s.length?t(n(a),e+".values."+s[0]):s.reduce((function(o,i){var s=t(n(a),e+".values."+i);return void 0===s?o:r.a.setIn(o,i,s)}),{})}}}(r.a)},309:function(e,t,a){e.exports={image:"Profile_image__1lKYQ",profileWrap:"Profile_profileWrap__4QSCb",infoWrap:"Profile_infoWrap__35zIN",profileEditBtn:"Profile_profileEditBtn__3j8rK",profileEditIcon:"Profile_profileEditIcon__27v1G",profileColumnsWrap:"Profile_profileColumnsWrap__1zGkZ",profileInfoWrap:"Profile_profileInfoWrap__2Fu_x",profileInfo:"Profile_profileInfo__38_tu",profilePhotoWrap:"Profile_profilePhotoWrap__3Drsj",profilePhoto:"Profile_profilePhoto__T8iHO",profilePhotoInput:"Profile_profilePhotoInput__1Smoz",profileFullName:"Profile_profileFullName__3W8Iy",profileStatusWrap:"Profile_profileStatusWrap__1a3g4",profileStatusContainer:"Profile_profileStatusContainer__1R_iw",profileStatusIcon:"Profile_profileStatusIcon__1eTMl",profileStatus:"Profile_profileStatus__LHDRn",profileInfoBlockWrap:"Profile_profileInfoBlockWrap__3Umou",profileInfoBlock__title:"Profile_profileInfoBlock__title__AIQ99",profileInfoBlock__desc:"Profile_profileInfoBlock__desc__2F52l",contacts:"Profile_contacts__yg1ch",contactWrap:"Profile_contactWrap__2QqWE",contact:"Profile_contact__2Roal",contactIcon:"Profile_contactIcon__1CHIY"}},310:function(e,t,a){e.exports={postsWrapper:"MyPosts_postsWrapper__-_att",form:"MyPosts_form__1m9EK",open:"MyPosts_open__sLTrD",postInfo:"MyPosts_postInfo__3By3z",messageInput:"MyPosts_messageInput__3G8i3",messageWrap:"MyPosts_messageWrap__28nVn",sendPost:"MyPosts_sendPost__yQred",sendBtn:"MyPosts_sendBtn__BxD6R"}},311:function(e,t,a){e.exports={wrap:"EmojiContainer_wrap__vNtaJ",openBtn:"EmojiContainer_openBtn__1Jrut",listWrap:"EmojiContainer_listWrap__3choq",buttonsWrap:"EmojiContainer_buttonsWrap__PzgIm",button:"EmojiContainer_button__HooHM",BtnIcon:"EmojiContainer_BtnIcon__2Btiu",active:"EmojiContainer_active__1mTXq",listScrollWrap:"EmojiContainer_listScrollWrap__1KdVD",list:"EmojiContainer_list__1fgEi",emoji:"EmojiContainer_emoji__1I0Aq"}},312:function(e,t,a){e.exports=a.p+"static/media/thinking.2633d732.svg"},313:function(e,t,a){e.exports=a.p+"static/media/edit.e720936c.svg"},314:function(e,t,a){e.exports=a.p+"static/media/instagram.7addff74.svg"},315:function(e,t,a){e.exports=a.p+"static/media/vk.f7c8a4b9.svg"},316:function(e,t,a){e.exports=a.p+"static/media/twitter.eeda54ff.svg"},317:function(e,t,a){e.exports=a.p+"static/media/facebook.dee886ce.svg"},318:function(e,t,a){e.exports=a.p+"static/media/github.7dea87fd.svg"},319:function(e,t,a){e.exports=a.p+"static/media/youtube.22655211.svg"},320:function(e,t,a){e.exports={post:"Post_post__K_baX"}},321:function(e,t,a){e.exports=a.p+"static/media/smile1.58ec9f26.svg"},322:function(e,t,a){e.exports=a.p+"static/media/like.d411fef8.svg"},323:function(e,t,a){e.exports=a.p+"static/media/footprint.0dd82fda.svg"},324:function(e,t,a){e.exports=a.p+"static/media/cupcake.794e6356.svg"},325:function(e,t,a){e.exports=a.p+"static/media/earth.24cb9523.svg"},326:function(e,t,a){e.exports=a.p+"static/media/ball.6a38616c.svg"},327:function(e,t,a){e.exports=a.p+"static/media/t-shirt.f7bd3ca4.svg"},328:function(e,t,a){e.exports=a.p+"static/media/faq.b938b69d.svg"},329:function(e,t,a){e.exports=a.p+"static/media/flag.844006a1.svg"},330:function(e,t,a){e.exports=a.p+"static/media/more.2822fb05.svg"},331:function(e,t,a){e.exports=a.p+"static/media/smile.88ab0180.svg"},333:function(e,t,a){"use strict";a.r(t);var n=a(30),o=a(31),r=a(33),i=a(32),s=a(0),l=a.n(s),c=a(102),u=a(309),f=a.n(u),m=a(42),p=a(61),d=a.n(p),g=a(312),_=a.n(g),E=function(e){var t=Object(s.useState)(!1),a=Object(c.a)(t,2),n=a[0],o=a[1],r=Object(s.useState)(e.status),i=Object(c.a)(r,2),u=i[0],m=i[1];Object(s.useEffect)((function(){m(e.status)}),[e.status]);return l.a.createElement("div",{className:f.a.profileStatusWrap},!n&&l.a.createElement("span",{className:f.a.profileStatusContainer},l.a.createElement("span",{className:f.a.profileStatusIcon,style:{backgroundImage:"url(".concat(_.a,")")}}),l.a.createElement("span",{className:f.a.profileStatus,onDoubleClick:function(){o(!0)}},e.status||"---------")),n&&l.a.createElement("input",{onChange:function(e){m(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(u)},value:u}))},v=a(136),b=a(137),P=a(51),h=a(62),y=a(53),j=a.n(y),N=Object(b.a)({form:"profileInfoForm"})((function(e){var t=e.userProfile.contacts;return l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",null,"full Name: ",l.a.createElement("span",null,l.a.createElement(v.a,{component:P.a,name:"fullName",validate:h.a,type:"text"}))),l.a.createElement("div",null,"About Me:",l.a.createElement("span",null,l.a.createElement(v.a,{component:P.b,name:"aboutMe",validate:h.a}))),l.a.createElement("div",null,"Looking For A Job:",l.a.createElement("span",null,l.a.createElement(v.a,{component:P.a,name:"lookingForAJob",type:"checkbox"}),"YES")),l.a.createElement("div",null,"Looking For A Job Description:",l.a.createElement("span",null,l.a.createElement(v.a,{component:P.b,name:"lookingForAJobDescription",validate:h.a}))),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts"),":",Object.keys(t).map((function(e){return l.a.createElement("div",null,e,":",l.a.createElement("span",null,l.a.createElement(v.a,{component:P.a,name:"contacts."+e,type:"text"})))}))),l.a.createElement("button",null,"SAVE"),e.error&&l.a.createElement("div",{className:j.a.summaryError},e.error))})),I=function(e){if(!e.userProfile)return l.a.createElement(m.a,null);return l.a.createElement("div",null,e.isUpdateProfile&&l.a.createElement(m.a,null),l.a.createElement(N,{initialValues:e.userProfile,userProfile:e.userProfile,onSubmit:function(t){e.saveProfile(t).then((function(){e.deactivateProfileEdit()}))}}))},k=a(60),S=a.n(k),C=a(313),B=a.n(C),O=a(314),W=a.n(O),x=a(315),F=a.n(x),w=a(316),A=a.n(w),U=a(317),M=a.n(U),T=a(318),D=a.n(T),J=a(319),V=a.n(J),L=a(103),z=a(310),R=a.n(z),q=a(320),H=a.n(q),K=function(e){return l.a.createElement("div",{className:H.a.post},l.a.createElement("img",{src:"https://peopletalk.ru/wp-content/uploads/2016/11/1480331127.jpg"}),e.message,l.a.createElement("div",null,l.a.createElement("span",null,e.like," like")))},Q=a(154),G=a(105),Y=a(311),X=a.n(Y),Z=a(14),$=a(73),ee=a(321),te=a.n(ee),ae=a(322),ne=a.n(ae),oe=a(323),re=a.n(oe),ie=a(324),se=a.n(ie),le=a(325),ce=a.n(le),ue=a(326),fe=a.n(ue),me=a(327),pe=a.n(me),de=a(328),ge=a.n(de),_e=a(329),Ee=a.n(_e),ve=a(330),be=a.n(ve),Pe=function(e){var t=e.emojisByCategory,a=e.setCurrentCategory,n=e.currentCategory,o={"smileys-emotion":te.a,"people-body":ne.a,"animals-nature":re.a,"food-drink":se.a,"travel-places":ce.a,activities:fe.a,objects:pe.a,symbols:ge.a,flags:Ee.a};return l.a.createElement("div",{className:X.a.buttonsWrap},t.map((function(e){return l.a.createElement("div",{className:X.a.buttonWrap},l.a.createElement("button",{onClick:function(){var t;t=e.categorySlug,a(t)},className:S()(X.a.button,n===e.categorySlug&&X.a.active)},l.a.createElement("span",{className:X.a.BtnIcon,style:{backgroundImage:"url(".concat(o[e.categorySlug]||be.a,")")}})))})))},he=function(e){var t,a=e.emojisByCategory,n=e.currentCategory,o=e.getSubcategoryEmojis,r=e.change,i=Object(s.useState)(!1),u=Object(c.a)(i,2),f=u[0],p=u[1],d=a.filter((function(e){return e.categorySlug===n})),g="";return d[0].subcategoryEmojis?t=d[0].subcategoryEmojis.map((function(e){return l.a.createElement(ye,{change:r,key:e.id,emoji:e})})):f||g||(p(!0),o(n).then((function(e){p(!1)}),(function(e){g=e||"\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..",p(!1)}))),l.a.createElement("div",{className:X.a.listScrollWrap},l.a.createElement("div",{className:X.a.list},t||f&&l.a.createElement(m.a,null)||g))},ye=function(e){var t=e.emoji,a=e.change;return l.a.createElement("span",{className:X.a.emoji,role:"img","aria-label":t.slug&&t.slug,"aria-hidden":!t.slug,onClick:function(){var e;e=t.character,a(e)}},t.character)},je=function(e){var t=e.emojisByCategory,a=e.getSubcategoryEmojis,n=e.change,o=Object(s.useState)(""),r=Object(c.a)(o,2),i=r[0],u=r[1];return Object(s.useEffect)((function(){u(t[0].categorySlug)}),[]),l.a.createElement("div",{className:X.a.listWrap},l.a.createElement(Pe,{emojisByCategory:t,setCurrentCategory:u,currentCategory:i}),i&&l.a.createElement(he,{emojisByCategory:t,currentCategory:i,getSubcategoryEmojis:a,change:n}))},Ne=a(331),Ie=a.n(Ne);var ke=Object(Z.b)((function(e){return{emojisByCategory:e.app.emojisByCategory}}),{initEmojisByCategory:$.c,getSubcategoryEmojis:$.b})((function(e){var t=e.emojisByCategory,a=e.initEmojisByCategory,n=e.getSubcategoryEmojis,o=e.change,r=Object(s.useRef)();!function(e,t){Object(s.useEffect)((function(){var a=function(a){e.current&&!e.current.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])}(r,(function(){return m(!1)}));var i=Object(s.useState)(!1),u=Object(c.a)(i,2),f=u[0],m=u[1];return l.a.createElement("div",{ref:r,className:X.a.wrap},l.a.createElement("button",{className:X.a.openBtn,onClick:function(e){e.preventDefault(),f?m(!1):t.length?m(!0):a().then((function(){m(!0)}))}},l.a.createElement("img",{src:Ie.a})),f&&t&&l.a.createElement(je,{change:o,getSubcategoryEmojis:n,emojisByCategory:t}))})),Se=function(e){Object(s.useEffect)((function(){!n&&e.newPostText&&o(!0)}),[e.newPostText]);var t=Object(s.useState)(!1),a=Object(c.a)(t,2),n=a[0],o=a[1];return l.a.createElement("form",{onSubmit:e.handleSubmit,className:S()("infoBlock",R.a.form,n&&R.a.open)},l.a.createElement("div",{className:R.a.postInfo},l.a.createElement(G.a,{photo:e.authUserProfile.photos.small,styles:{circle:!0,size:"sm"}}),l.a.createElement("div",{className:S()(R.a.messageWrap)},l.a.createElement(v.a,{onFocus:function(e){o(!0)},onBlur:function(t){t.preventDefault(),e.blurFieldValue("profileAddPostForm","newPostText"),t.target.value||o(!1)},placeholder:"Type something to "+e.userName,className:S()(R.a.messageInput),component:P.b,name:"newPostText"})),l.a.createElement(ke,{change:function(t){e.changeFieldValue("profileAddPostForm","newPostText",(e.newPostText||"")+t)}})),n&&l.a.createElement("div",{className:R.a.sendPost},l.a.createElement("button",{className:S()(R.a.sendBtn,"button")},"Add Post")))};Se=Object(b.a)({form:"profileAddPostForm"})(Se);var Ce=Object(Q.a)("profileAddPostForm"),Be=Se=Object(Z.b)((function(e){return{newPostText:Ce(e,"newPostText")}}))(Se),Oe=l.a.memo((function(e){var t=e.posts.map((function(e){return l.a.createElement(K,{message:e.message,like:e.likesCount})}));l.a.createRef();return l.a.createElement("div",{className:S()("infoBlocksWrap",R.a.postsWrapper)},l.a.createElement(Be,{userProfile:e.userProfile,authUserProfile:e.authUserProfile,blurFieldValue:e.blurFieldValue,changeFieldValue:e.changeFieldValue,onSubmit:function(e){a.e(5).then(a.bind(null,332)).then((function(e){console.log(e.add(16,26))}))},userName:e.userProfile.fullName}),l.a.createElement("div",{className:S()("infoBlock",R.a.posts)},t))})),We=function(e){return e.profilePage.userProfile},xe=a(41),Fe=Object(Z.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,authUserProfile:e.auth.authUserProfile,userProfile:We(e),emojisByCategory:e.app.emojisByCategory}}),(function(e){return{changeFieldValue:function(t,a,n){e(Object(xe.b)(t,a,n))},blurFieldValue:function(t,a,n){e(Object(xe.a)(t,a,n))},addPost:function(t){e(Object(L.a)(t))}}}))(Oe),we=function(e){var t=e.userProfile,a=t.lookingForAJob,n=t.lookingForAJobDescription,o=(t.fullName,t.contacts),r=(t.aboutMe,!Object.values(o).some((function(e){return!!e}))),i={vk:F.a,instagram:W.a,twitter:A.a,facebook:M.a,github:D.a,youtube:V.a};return l.a.createElement("div",{className:f.a.infoWrap},l.a.createElement("div",{className:S()("infoBlock",f.a.profileInfoBlockWrap)},l.a.createElement("div",{className:f.a.profileInfoBlock__title},"Job"),l.a.createElement("b",null,"Looking For A Job: ",a?"yes":"no"),l.a.createElement("div",{className:f.a.profileInfoBlock__desc},n&&l.a.createElement("div",null,l.a.createElement("span",null,n))),0!==Object.keys(o).length&&o.constructor===Object&&!r&&l.a.createElement("div",{className:f.a.contacts},Object.keys(o).map((function(e){return o[e]?l.a.createElement("div",{className:f.a.contactWrap},l.a.createElement("a",{className:f.a.contact,href:o[e]},i[e]&&l.a.createElement("img",{className:f.a.contactIcon,src:i[e]}),o[e])):""})))))},Ae=function(e){var t=Object(s.useState)(!1),a=Object(c.a)(t,2),n=a[0],o=a[1];if(!e.userProfile)return l.a.createElement(m.a,null);var r=function(e){o(!0)};return l.a.createElement("div",{className:S()("infoBlocksWrap",f.a.profileWrap)},l.a.createElement("div",{className:S()("infoBlock",f.a.profileInfoWrap)},l.a.createElement("div",{className:f.a.profilePhotoWrap},l.a.createElement("img",{className:f.a.profilePhoto,src:e.userProfile.photos.large||d.a}),e.isOwner&&l.a.createElement("input",{className:f.a.profilePhotoInput,type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})),l.a.createElement("div",{className:f.a.profileInfo},e.userProfile.fullName&&l.a.createElement("div",{className:f.a.profileFullName},e.userProfile.fullName),l.a.createElement(E,{status:e.status,updateStatus:e.updateStatus}),e.userProfile.aboutMe&&l.a.createElement("div",{className:f.a.profileInfo__item},e.userProfile.aboutMe)),l.a.createElement("button",{className:f.a.profileEditBtn,onClick:r},l.a.createElement("span",{className:f.a.profileEditIcon,style:{backgroundImage:"url(".concat(B.a,")")}}))),l.a.createElement("div",{className:f.a.profileColumnsWrap},n?l.a.createElement(I,{saveProfile:e.saveProfile,deactivateProfileEdit:function(e){o(!1)},userProfile:e.userProfile,isUpdateProfile:e.isUpdateProfile}):l.a.createElement(we,{userProfile:e.userProfile,activateProfileEdit:r}),l.a.createElement(Fe,null)))},Ue=function(e){return l.a.createElement(Ae,{savePhoto:e.savePhoto,isOwner:e.isOwner,userProfile:e.userProfile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile,isUpdateProfile:e.isUpdateProfile})},Me=a(35),Te=a(9),De=function(e){return e.auth.userId},Je=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return l.a.createElement(Ue,Object.assign({},this.props,{isOwner:!this.props.match.params.userId}))}}]),a}(l.a.Component);t.default=Object(Te.d)(Object(Z.b)((function(e){return{userProfile:We(e),status:e.profilePage.status,authUserId:De(e),isAuth:e.auth.isAuth,isUpdateProfile:e.profilePage.isUpdateProfile}}),{getUserProfile:L.d,getStatus:L.c,updateStatus:L.g,savePhoto:L.e,saveProfile:L.f}),Me.g)(Je)}}]);
//# sourceMappingURL=3.27a35407.chunk.js.map